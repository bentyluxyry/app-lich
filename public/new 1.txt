<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đang tải...</title>
    <script>
        // --- GITHUB PAGES SPA REDIRECT ---
        // Script này giúp chuyển hướng các đường dẫn ảo (ví dụ: /bai-viet-a) 
        // về trang chủ (index.html) kèm theo tham số để JS xử lý tiếp.
        
        (function() {
            var path = window.location.pathname;
            
            // Bỏ dấu gạch chéo cuối cùng nếu có
            if (path.length > 1 && path.endsWith('/')) {
                path = path.slice(0, -1);
            }
            
            // Tách các thành phần của URL
            var segments = path.split('/');
            var lastSegment = segments.pop(); // Lấy phần cuối (slug)
            
            // Xác định đường dẫn cơ sở (Root của ứng dụng)
            // Ví dụ: /app-lich/bai-viet-1 => base là /app-lich/
            var baseUrl = segments.join('/') + '/';
            
            // Kiểm tra: Chỉ chuyển hướng nếu slug không phải là file (không chứa dấu chấm)
            // Hoặc nếu là file .html thì vẫn chuyển (trừ index.html)
            if (lastSegment && (lastSegment.indexOf('.') === -1 || lastSegment.endsWith('.html'))) {
                
                // Logic map Slug sang View tương ứng
                // Mặc định mọi đường dẫn ảo đều coi là xem bài viết Blog
                var targetUrl = baseUrl + '?view=BLOG&slug=' + lastSegment;
                
                // Thay thế URL hiện tại bằng URL mới có query param
                window.location.replace(targetUrl);
            } else {
                // Nếu là file tài nguyên thực sự không tồn tại (vd: anh.png), giữ nguyên 404
                document.body.innerHTML = `
                    <div style="font-family: sans-serif; text-align: center; padding-top: 50px;">
                        <h1 style="color: #333;">404 - Không tìm thấy</h1>
                        <p style="color: #666;">Tài nguyên bạn yêu cầu không tồn tại.</p>
                        <a href="./" style="color: #16a34a; font-weight: bold; text-decoration: none;">Về trang chủ</a>
                    </div>
                `;
            }
        })();
    </script>
</head>
<body style="background-color: #f9fafb; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0;">
    <div style="text-align: center;">
        <div style="width: 40px; height: 40px; border: 4px solid #e5e7eb; border-top: 4px solid #16a34a; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 15px;"></div>
        <p style="font-family: sans-serif; color: #6b7280; font-size: 14px;">Đang kết nối đến Lịch Việt...</p>
    </div>
    <style>
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</body>
</html>